from time import sleep

import requests
def web(url):
    print("")
    print("--------------Wordpress Scan--------------")
    print("Scan for Wordpress...")
    sleep(2)
    wpLcheck = requests.get(url + "/wp-login.php")
    if wpLcheck.status_code == 200 and "user_login" in wpLcheck.text and "404" not in wpLcheck.text:
        print("Wordpress detected: admin login => " + url + "/wp-admin.php")
    else:
        pass
    wpAcheck = requests.get(url + "/wp-admin")
    if wpAcheck.status_code == 200 and "user_login" in wpAcheck.text and "404" not in wpAcheck.text:
        print("Wordpress detected: admin page => " + url + "/wp-admin")
    else:
        pass

    # Joomla Scan
    print("")
    print("--------------joomla Scan--------------")
    print("Scan for Joomla...")
    sleep(2)
    jmAcheck = requests.get(url + "/administrator")
    if jmAcheck.status_code == 200 and "mod-login-username" in jmAcheck.text and "404" not in jmAcheck.text:
        print("Joomla detected: administrator page => " + url + "/administrator")
    else:
        pass

    jmScheck = requests.get(url)
    if jmScheck.status_code == 200 and "joomla" in jmScheck.text and "404" not in jmScheck:
        print("Joomla detected: 'joomla' on index")
    else:
        pass

    # Drupal Scan
    print("")
    print("--------------Drupal Scan--------------")
    print("Scan for Drupal...")
    sleep(2)
    drRcheck = requests.get(url + "/readme.txt")
    if drRcheck.status_code == 200 and 'drupal' in drRcheck.text and '404' not in drRcheck.text:
        print("Drupal detected: Drupal Readme.txt => " + url + '/readme.txt')
    else:
        pass

    drCcheck = requests.get(url + '/core/COPYRIGHT.txt')
    if drCcheck.status_code == 200 and 'Drupal' in drCcheck.text and '404' not in drCcheck.text:
        print("Drupal detected: Drupal COPYRIGHT.txt => " + url + '/core/COPYRIGHT.txt')
    else:
        pass

    # Magento Scan -----------------------------------------
    print("")
    print("--------------Magento Scan--------------")
    print("Scan for Magento...")
    sleep(2)
    mgRcheck = requests.get(url + '/RELEASE_NOTES.txt')
    if mgRcheck.status_code == 200 and 'magento' in mgRcheck.text:
        print("Magento detected: Magento Release_Notes.txt: " + url + '/RELEASE_NOTES.txt')
    else:
        pass

    mgCcheck = requests.get(url + '/js/mage/cookies.js')
    if mgCcheck.status_code == 200 and "404" not in mgCcheck.text:
        print("Magento detected: Magento cookies.js: " + url + '/js/mage/cookies.js')
    else:
        pass